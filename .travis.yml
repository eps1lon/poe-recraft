language: node_js
before_install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version 1.12.3
  - export PATH=$HOME/.yarn/bin:$PATH
cache:
  yarn: true
script:
  # workspace root
  - yarn format check-changed
  # i18n
  - yarn workspace poe-i18n lint
  - yarn workspace poe-i18n test:ci
  - yarn workspace poe-i18n test:typings
  - yarn workspace poe-i18n coveralls
  - yarn workspace poe-i18n build
  # mods
  - yarn workspace poe-mods lint
  - yarn workspace poe-mods test:ci
  - yarn workspace poe-mods test:typings
  - yarn workspace poe-mods coveralls
  - yarn workspace poe-mods build
  # poe-components-item
  - yarn workspace poe-components-item lint
  # - yarn workspace poe-components-item test:ci
  - yarn workspace poe-components-item build
  # recraft
  - yarn workspace recraft lint
  - yarn workspace recraft test:ci
  - yarn workspace recraft coveralls
  - yarn workspace recraft build
